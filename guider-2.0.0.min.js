/*! jQuery Plugin: Guider v2.0.0 | Dual licensed under the MIT (http://www.roydukkey.com/mit) and GPL Version 2 (http://www.roydukkey.com/gpl) licenses. */
(function(f){var b={s:{title:"This is a very generic title.",description:"Did you forget a description?",width:530,position:"rightTop",alignButtons:"left",overlay:!1,hashable:!1,closable:!1,draggable:!0,arrowSize:30},b:'<div class="jGuider" style="display:none;"><div class="jgContent"><div class="jgTitle" /><div class="jgNoDrag"><div class="jgClose" /><div class="jgDesc" /><div class="jgButtons" /></div></div><span class="jgArrow"><span /></span></div>',h:"guider=",g:[],c:0,l:0,o:!1,z:f('<div id="jgOverlay" />'), e:10,p:"topLeft,top,topRight,rightTop,right,rightBottom,bottomRight,bottom,bottomLeft,leftBottom,left,leftTop".split(","),n:function(e){if(void 0==b.g[e])throw"Guider "+h.version+": Cannot find guider with name '"+e+"'";return b.g[e]},i:function(b){b.clone().css({width:b.width(),height:b.height(),margin:0,position:"absolute",top:b.offset().top,left:b.offset().left}).addClass("jGuiderHighlight").appendTo("body");b.addClass("jGuiderHidden")},d:function(b){b.removeClass("jGuiderHidden");f(".jGuiderHighlight").remove()}}, h=f.guider=function(e){var a,d=0,c=f.extend(!0,{},b.s,e);if("length"==c.name)throw"Guider "+h.version+": Guider names must !== 'length'.";c.position=(c.position=function(){for(;d<b.p.length;d++)if(b.p[d].toLowerCase()==c.position.toLowerCase())return b.p[d]}()||b.s.position).replace(/(.*)[A-Z].*/,"$1,"+c.position).split(",");"left"!=c.alignButtons&&"center"!=c.alignButtons&&"right"!=c.alignButtons&&(c.alignButtons="left");e=(c.e=f(b.b)).attr("id","jGuider_"+(c.name||b.g.length)).addClass(c.className).css("width", c.width).find(".jgTitle").html(c.title).end().find(".jgDesc").html(c.description).end().find(".jgClose").toggleClass("active",!!c.closable).click(h.hideAll).end().find(".jgButtons").addClass("jgAlign"+c.alignButtons.substr(0,1).toUpperCase()+c.alignButtons.substr(1));c.e.draggable&&c.draggable&&(void 0==c.attachTo||0==c.attachTo.length)&&c.e.draggable({cancel:".jgNoDrag"});for(d in c.buttons)e.append(f("<button>"+d+"</button>").addClass(c.buttons[d].className).attr("disabled",!!c.buttons[d].disabled).click({guider:f.isFunction(c.buttons[d])? c.buttons[d]:f.isFunction(c.buttons[d].click)?c.buttons[d].click:-1},"boolean"==typeof c.buttons[d]||"boolean"==typeof c.buttons[d].click?"close"==d.toLowerCase()&&h.hideAll||"next"==d.toLowerCase()&&h.next||"back"==d.toLowerCase()&&h.prev:function(a){return~a.data.guider&&a.data.guider.call(c.e,a)}));b.g[b.l=c.name||b.g.length||0]=c;c.hashable&&~(a=window.location.hash.indexOf(b.h))&&c.name.toLowerCase()==window.location.hash.substr(a+b.h.length).toLowerCase()&&h.show(c.name);return h};f.each({version:"2.0.0", next:function(){var e=b.g[b.c],a;if(void 0==typeof e)return!1;a=e.next||null;null!==a&&""!==a&&(b.o=!!b.n(a).overlay,h.hideAll(!0),e.highlight&&b.d(e.attachTo),h.show(a));return!0},hideAll:function(){var e;f(".jGuider").filter(":visible").each(function(a,d){e=b.n(f(d).attr("id").replace("jGuider_",""));e.onHide&&e.onHide.call(e)}).end().remove();e=b.g[b.c];e.highlight&&b.d(e.attachTo);!b.o&&b.z.remove();b.o=!b.o;return h},show:function(e){var a=b.n(e=e||b.l),d,c,k,g,j;a.overlay&&(0===f("#jgOverlay").length&& b.z.appendTo("body"),b.z.toggleClass("jgLight","light"==a.overlay||!0===a.overlay).toggleClass("jgDark","dark"==a.overlay),void 0!=a.overlay.color?b.z.css("backgroundColor",a.overlay.color):b.z[0].style.removeProperty?b.z[0].style.removeProperty("background-color"):b.z[0].style.removeAttribute("backgroundColor"),void 0!=a.overlay.opacity?b.z.css("opacity",a.overlay.opacity):b.z[0].style.removeProperty?b.z[0].style.removeProperty("opacity"):b.z[0].style.removeAttribute("filter"),a.highlight&&b.i(a.attachTo)); a.e.appendTo("body");a.onShow&&a.onShow(a);d=a.e.innerHeight();c=a.e.innerWidth();if(void 0==a.attachTo||0==a.attachTo.length)g=(f(window).height()-d)/3+f(window).scrollTop(),j=(f(window).width()-c)/2+f(window).scrollLeft();else{var i=a.e.find(".jgArrow").addClass("jg-"+a.position[a.position.length-1]);switch(a.position[0]){case "top":i.find("span").add(i).css("borderWidth",a.arrowSize+"px "+a.arrowSize+"px 0 "+a.arrowSize+"px").end().css("left",-a.arrowSize);break;case "right":i.find("span").add(i).css("borderWidth", a.arrowSize+"px "+a.arrowSize+"px "+a.arrowSize+"px 0").end().css("top",-a.arrowSize);break;case "bottom":i.find("span").add(i).css("borderWidth","0 "+a.arrowSize+"px "+a.arrowSize+"px "+a.arrowSize+"px").end().css("left",-a.arrowSize);break;default:i.find("span").add(i).css("borderWidth",a.arrowSize+"px 0 "+a.arrowSize+"px "+a.arrowSize+"px").end().css("top",-a.arrowSize)}k=a.attachTo.offset();g=k.top;j=k.left;switch(a.position[a.position.length-1]){case "top":case "bottom":i.css("marginLeft",-a.arrowSize); j+=(a.attachTo.innerWidth()-c)/2;break;case "right":case "left":i.css("marginTop",-a.arrowSize);g+=(a.attachTo.innerHeight()-d)/2;break;case "rightTop":case "leftTop":i.css("top",a.arrowSize/1.5);break;case "topRight":case "bottomRight":i.css("right",a.arrowSize/1.5);j+=a.attachTo.innerWidth()-c;break;case "rightBottom":case "leftBottom":i.css("bottom",a.arrowSize/1.5);g+=a.attachTo.innerHeight()-d;break;default:i.css("left",a.arrowSize/1.5)}switch(a.position[a.position.length-1]){case "top":case "topRight":case "topLeft":g+= -b.e-a.arrowSize-d;break;case "right":case "rightTop":case "rightBottom":j+=b.e+a.arrowSize+a.attachTo.innerWidth();break;case "bottom":case "bottomRight":case "bottomLeft":g+=b.e+a.arrowSize+a.attachTo.innerHeight();break;default:j+=-b.e+-c-a.arrowSize}void 0!=a.offset&&(g+=~~a.offset.top,j+=~~a.offset.left)}a.e.css({position:a.attachTo?"absolute":"fixed",top:g,left:j,display:"block"});window.scrollTo(0>(k=a.e.offset()).left-(c=f(window).scrollLeft())||k.left+(g=a.e.width())>c+(d=f(window).width())? Math.max(k.left+(g-d)/2,0):c,0>k.top-(c=f(window).scrollTop())||k.top+(g=a.e.height())>c+(d=f(window).height())?Math.max(k.top+(g-d)/2,0):c);b.c=e;return h}},function(b,a){h[b]=a});f.fn.guider=function(b){b.attachTo=this.eq(0);h(b);return this}})(jQuery);